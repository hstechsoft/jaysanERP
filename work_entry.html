<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

     <!-- Bootstrap CSS -->
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
     <!-- bootsttrap icons -->
     <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <title>Document</title>
  
  <!-- external css -->
  <link rel="stylesheet" type="text/css" href="style.css">
  
  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/smoothness/jquery-ui.css">


<style>
@media print {
  @page {
    size: A4;
    margin: 20mm;
  }

  body {
    font-family: 'Arial', sans-serif;
    font-size: 12pt;
    color: #000;
  }

  /* Hide non-print elements */
  body > *:not(#printSection) {
    display: none !important;
  }

  #printSection {
    display: block !important;
  }

  /* Header styling */
  #printSection .header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 10px;
    border-bottom: 2px solid #888;
    padding-bottom: 10px;
  }

  #printSection .header img {
    max-height: 60px;
  }

  #printSection .header-title {
    flex-grow: 1;
    text-align: center;
    font-size: 18pt;
    font-weight: bold;
    text-transform: uppercase;
    margin-left: 20px;
  }

  /* Info row */
  .info-row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 10px;
  }

  .info-row div {
    width: 48%;
  }

  /* Table styling */
  .table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 10px;
  }

  .table th, .table td {
    border: 1px solid #000 !important;
    padding: 6px;
    text-align: left;
  }

  .table tbody tr:nth-child(even) {
    background-color: #f2f2f2;
  }

  input[type="checkbox"] {
    transform: scale(1.2);
    pointer-events: none;
  }

  .signature {
    margin-top: 60px;
    font-weight: bold;
  }
}

</style>


</head>
<body>
  <div class="modal fade" id="extra_time_master" data-bs-backdrop="static" data-bs-keyboard="false"   tabindex="-1" aria-labelledby="extra_time_masterLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable     ">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="extra_time_masterLabel">Extra Time Creation</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">

          <form class="p-4 border rounded-4 shadow-sm bg-light needs-validation" id="extra_time_form" novalidate onsubmit="return false">
             <div class="form-floating mb-2">
            <input type="text" class="form-control rounded-3" id="ex_name" placeholder="" required>
            <label for="ex_name">Extra Time Name
            <span class="text-danger">*</span> </label>
          
            <div class="invalid-feedback">
              Kindly Enter  Vaild Data
            </div>
          </div>

          <div class="form-floating mb-3">
            <select class="form-select" id="extra_time_type" required>
              <option selected disabled value="">Choose...</option>
              <option value="break">break</option>
              <option value="other">other</option>
               <option value="work">Work</option>

            </select>
           <label for="extra_time_type">extra time type  <span class="text-danger">*</span> </label></label>
             <div class="invalid-feedback">
                Kindly Select  Vaild
              </div>
          </div>
<div class="form-check mb-2">
  <input class="form-check-input" type="checkbox" id="is_payable">
  <label class="form-check-label" for="is_payable">
    Payable
  </label>
</div>

              <div class="form-floating mb-2 d-none">
            <input type="time" class="form-control rounded-3 " id="extra_start_time" placeholder="" required>
            <label for="extra_start_time">Start time
            <span class="text-danger">*</span> </label>
          
            <div class="invalid-feedback">
              Kindly Enter  Vaild Data
            </div>
          </div>

            <div class="form-floating mb-2 d-none">
            <input type="time" class="form-control rounded-3" id="extra_end_time" placeholder="" required>
            <label for="extra_end_time">End time
            <span class="text-danger">*</span> </label>
          
            <div class="invalid-feedback">
              Kindly Enter  Vaild Data
            </div>
          </div>

             <div class="form-floating mb-2">
          <input type="number" class="form-control rounded-3" id="ex_time" placeholder="" required>
          <label for="ex_time">Time in Mins
          <span class="text-danger">*</span> </label>
        
          <div class="invalid-feedback">
            Kindly Enter  Vaild Data
          </div>
        </div>


 <div class="d-flex justify-content-end gap-2">
  <button type="button" class="btn btn-success" id="add_extra_time_btn">Add</button>

  <button type="button" class="btn btn-primary d-none" id="update_extra_time_btn">Update</button>

  <button type="button" class="btn btn-secondary d-none" id="cancel_edit_btn">Cancel</button>
</div>

          </form>
           

                <div class="table-responsive mt-4">
  <table class="table table-hover table-bordered text-center small" id="extra_time_table">
    <thead class="table-primary">
      <tr>
        <th>#</th>
        <th>Name</th>
        <th>Type</th>
        <th>Start</th>
        <th>End</th>
        <th>Minutes</th>
        <th>Payable</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</div>
        </div>



        <div class="modal-footer">
          

        </div>
      </div>
    </div>
  </div>


  <div class="modal fade" id="employeeProcessModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <h5 class="modal-title">Assign Process to Employee</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <div class="modal-body">
        <p class="small text-muted">Employee: <span id="emp_name_modal" class="fw-bold text-primary"></span></p>

        <div class="mb-2">
          <label for="process_select" class="form-label">Select Process</label>
          <select id="process_select" class="form-select form-select-sm">
            <option value="">-- Select Process --</option>
          </select>
        </div>

           <div class="mb-2">
          <label for="machine_select" class="form-label">Select Machine</label>
          <select id="machine_select" class="form-select form-select-sm">
            <option value="">-- Select Machine --</option>
          </select>
        </div>

       

        <button id="assign_process_btn" class="btn btn-sm btn-primary mb-3">+ Assign</button>

        <div>
          <h6 class="text-muted small">Assigned Processes:</h6>
          <ul id="assigned_process_list" class="list-group small"></ul>
        </div>
      </div>

    </div>
  </div>
</div>

    <section>
   
      </section>
      <div class="toast-container position-fixed bottom-0 end-0 p-3">
        <div id="myToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
          <div class="toast-header ">
            <strong class="me-auto toast-title">Toast Title</strong>
            <small class="text-muted">Just now</small>
            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
          </div>
          <div class="toast-body toast-description">
            Hello, this is a Bootstrap toast message!
          </div>
        </div>
      </div>

<div id="printSection" class="d-none">

  <!-- Header: Logo + Company Name -->
  <div class="header">
    <img src="img/jaysan_logo.png" alt="Company Logo">
    <div class="header-title">Jaysan Agri Industrial</div>
  </div>

  <!-- Info Rows -->
  <div class="info-row">
    <div><strong>Employee Name:</strong> <span id="print_emp_name" class="fw-bold"></span></div>
    <div><strong>Print Date:</strong> <span id="print_date" class="fw-bold"></span></div>
  </div>
  <div class="info-row">
    <div><strong>Start Date:</strong> ____________________</div>
    <div><strong>End Date:</strong> ____________________</div>
  </div>

  <!-- Work Table -->
  <h6 class="mt-3 mb-1">Work Entry Table (To be filled by employee):</h6>
  <table class="table table-bordered" cellspacing="0" cellpadding="5">
    <thead>
      <tr>
        <th>Worked?</th>
        <th>Process</th>
        <th>Quantity</th>
        <th>Remarks</th>
      </tr>
    </thead>
    <tbody id="print_process_rows">
      <!-- JS will fill rows here -->
    </tbody>
  </table>

  <!-- Signature -->
  <div class="signature">
    <p>Employee Signature: ____________________________</p>
  </div>
</div>






<div class="container-fluid ">
    <!-- top bar -->
   
   
    
<section id="menu_bar">
   
</section>
<div class="row">
  <div class="col-sm-8 col-12 m-0 p-0">
 <form class="p-4 border rounded-4 shadow-sm bg-light needs-validation" id="work_time_form" novalidate onsubmit="return false">

<!-- content -->
<div class="mb-2">
  <label class="form-label d-block">
    <i class="fa fa-user me-1 text-primary"></i> Employee <span class="text-danger">*</span>
  </label>
  <div class="d-flex gap-2 align-items-center">
    <div class="form-floating flex-grow-1">
      <select class="form-select" id="emp" required>
        <option selected disabled value="">Choose...</option>
      </select>
      <label for="emp">Employee</label>
      <div class="invalid-feedback">
        Kindly select valid employee
      </div>
    </div>
    <button id="openProcessModalBtn" type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#employeeProcessModal" disabled>
      <i class="fa fa-plus"></i> 
    </button>

    <button id="printProcessBtn" type="button" class="btn btn-success " disabled>
  <i class="fa fa-print"></i> 
</button>

  </div>
</div>








<div class="d-sm-flex  justify-content-between gap-1 align-content-center">
  
<div class="flex-fill" >
  
    <div class="form-floating mb-2">
  <input type="datetime-local" class="form-control rounded-3" id="start_date" placeholder="" required>
  <label for="datetimelocal"><i class="fa fa-calendar me-1 text-primary" aria-hidden="true"></i> Start Date
  <span class="text-danger">*</span> </label>

  <div class="invalid-feedback">
    Kindly Enter  Vaild Data
  </div>
</div>

</div>

<div class="flex-fill">

    <div class="form-floating mb-2">
  <input type="datetime-local" class="form-control rounded-3" id="end_date" placeholder="" required>
  <label for="datetimelocal"><i class="fa fa-calendar me-1 text-primary me-1" aria-hidden="true"></i> End Date
  <span class="text-danger">*</span> </label>

  <div class="invalid-feedback">
    Kindly Enter  Vaild Data
  </div>
</div>
</div>


</div>
<div class="my-auto">
  
<button type="submit" class="btn btn-primary w-100 rounded rounded-3" id="ok_btn"><i class="fa fa-rocket me-2" aria-hidden="true"></i> OK</button>

</div>
 
 </form>
  </div>
  <div class="col-sm-4 col-12  m-0 p-0">
    <div class="card shadow-sm ">
      <div class="card-header">
        <h5 class="card-title"><i class="fa fa-book text-primary me-2" aria-hidden="true"></i> Recent Entry </h5>
      </div>
      <div class="card-body" style="max-height: 33vh; overflow-y: auto;">
    
     <ul class="list-group mt-3" id="recent_entry_list">
     

            
          
     </ul>
      </div>
    </div>

</div>

</div>

<ul class="list-group mt-3" id="duplicate_entry_list"></ul>


<p class="text-muted my-2 small">Total Time : <span id="total_time_text"></span></p>


<div id="part1" class="">
<div class="accordion " id="acc_extra" >
  <div class="accordion-item">
    <div class="d-flex">
   <h2 class="accordion-header flex-fill">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#extra_time_acc" aria-expanded="true" aria-controls="extra_time_acc">
       <i class="fa-solid fa-mug-hot me-1"></i> Extra Time - <span id="extra_time_text"> </span> Mins
 


        
      </button>

     
    </h2>
    <button type="button" class="btn btn-success " data-bs-toggle="modal" data-bs-target="#extra_time_master">
      <i class="fa-solid fa-mug-hot me-1"></i> Add New
     
    </button>
    </div>
 


    <div id="extra_time_acc" class="accordion-collapse collapse " data-bs-parent="#acc_extra">
      <div class="accordion-body">
      <div class="d-sm-flex   justify-content-between  align-content-center gap-1 ">
  <div class="flex-fill">
    <div class="form-floating  mb-2 mb-sm-0">
  <select class="form-select" id="extra_work">
    <option selected disabled value="">Choose...</option>
  </select>
 <label for="extra_work">Extra Work/OD</label>
 
</div>
  </div>
  <div class="flex-fill">
        <div class="form-floating mb-2 mb-sm-0">
      <input type="number" class="form-control rounded-3" id="extra_time_in" placeholder="" >
      <label for="extra_time_in">Extra Time
      </label>
    
      <div class="invalid-feedback">
        Kindly Enter  Vaild Data
      </div>
    </div>
  </div>

  <div class="d-flex align-items-center " style="padding: 0 0.5rem;">
    <button type="submit" class="btn btn-primary w-100 rounded rounded-2" id="add_extra_btn">
      <i class="fa fa-plus" aria-hidden="true"></i> Add
    </button>
  </div>

</div>
<div class="table-responsive">
 <table class="table caption-top table-bordered table-striped table-hover table-sm text-center">
  <caption class="small">Extra Work Time</caption>    
  <thead class="text-center">
    <tr class="small">
     <th scope="col">#</th>
     <th scope="col">Process</th>
    <th scope="col">Time</th>
     <th scope="col">Action</th>

    </tr>
  </thead>
  <tbody class="text-center small" id="extra_time_table1">
   
  </tbody>
 </table>
 </div>


 

      </div>
    </div>
  </div>
</div>
  <div class="card mt-1  " id="">
<div class="card-header " >
  <p class="card-title "><i class="fa-solid fa-screwdriver-wrench me-1"></i> Work Time - <span id="act_work_time"> 167 Mins</span> </p>

  </div>
  <div class="card-body">
       <div class="d-sm-flex   justify-content-between  align-content-center gap-1 ">
        <div class="flex-fill">
        <div class="form-floating mb-2 mb-sm-0">
      <input type="text" class="form-control rounded-3" id="part" placeholder="" autocomplete="off">
        <input type="hidden" id="selected_part_id">
      <label for="part"> <i class="fa-solid fa-wrench text-primary"></i>  Part  <span class="text-danger">*</span>
      </label>
    
      <div class="invalid-feedback">
        Kindly Enter  Vaild Data
      </div>
    </div>
  </div>


  <div class="flex-fill">
    <div class="form-floating  mb-2 mb-sm-0">
  <select class="form-select" id="process">
    <option selected disabled value="">Choose...</option>
  </select>
 <label for="process"> <i class="fa-solid fa-screwdriver-wrench me-1 text-primary"></i> Process  <span class="text-danger">*</span></label>
 
</div>
  </div>

  <!-- Machine Dropdown -->
<div class="flex-fill d-none">
  <div class="form-floating mb-2 mb-sm-0">
    <select class="form-select" id="machine">
      <option selected disabled value="">Choose...</option>
    </select>
    <label for="machine"><i class="fa-solid fa-industry me-1 text-primary"></i> Machine <span class="text-danger">*</span></label>
    <div class="invalid-feedback">
      Kindly select a valid machine
    </div>
  </div>
</div>

  <div class="flex-fill">
        <div class="form-floating mb-2 mb-sm-0">
      <input type="number" class="form-control rounded-3" id="work_qty" placeholder="" >
      <label for="work_qty"> <i class="fa-solid fa-list-ol me-1 text-primary"></i> Qty  <span class="text-danger">*</span>
      </label>
    
      <div class="invalid-feedback">
        Kindly Enter  Vaild Data
      </div>
    </div>
  </div>



  <div class="d-flex align-items-center " style="padding: 0 0.5rem;">
    <button type="submit" class="btn btn-primary w-100 rounded rounded-2" id="add_work_btn">
      <i class="fa fa-plus" aria-hidden="true"></i> Add
    </button>
  </div>

</div>


  </div>
  <div class="card-footer">
 <div class="table-responsive">
 <table class="table caption-top table-bordered table-striped table-hover table-sm text-center">
  <caption class="small">List of Work</caption>    
  <thead class="text-center">
    <tr class="small">
     <th scope="col">#</th>
     <th>Part</th>
     <th scope="col">Process</th>
     <th scope="col">Qty</th>
     <th scope="col">Action</th>
    </tr>
  </thead>
  <tbody class="text-center small" id="work_time_table">
    
  </tbody>
 </table>
 </div>
<div class="my-auto">
  
<button type="submit" class="btn btn-primary w-100 rounded rounded-3" id="summary_btn"> <i class="fas fa-notes-medical    "></i> Generate Summary   </button>

</div>
  </div>
  </div>
</div>



  <div id="part2" class="d-none">
  <div class="card">
<div class="card-header d-flex justify-content-between" id="process_sts">
<p class="p-0 m-0">Good Work</p>
<i class="fa fa-thumbs-o-up blink" aria-hidden="true"></i>
</div>
  <div class="card-footer">
 <div class="table-responsive">
 <table class="table caption-top table-bordered table-striped table-hover table-sm text-center">
  <caption class="small">Work Time Summary</caption>    
  <thead class="text-center">
    <tr class="small">
     <th scope="col">#</th>
      <th scope="col">Part</th>
     <th scope="col">Process</th>
    <th scope="col">Work Time</th>
     <th scope="col">Qty</th>

    </tr>
  </thead>
  <tbody class="text-center small" id="work_time_summary_table">
 
  </tbody>
 </table>
 </div>
<div style="max-width: 70vw;"  class="d-flex justify-content-center">
 <canvas id="summary_chart" ></canvas>


</div>

<div id="free_time_remark" class="mt-3 d-none">
  <label for="remark_text" class="form-label">Remark (optional)</label>
  <textarea class="form-control" id="remark_text" rows="2" placeholder="Enter your remark if needed"></textarea>
</div>

  </div>
  </div>

<div class="my-auto">
  
<button type="submit" class="btn btn-primary w-100 rounded rounded-3" id="submit_btn"><i class="fa fa-rocket me-2" aria-hidden="true"></i> Submit</button>

</div>
  </div>

</div>



   
<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- jQuery UI -->
<script src="https://code.jquery.com/ui/1.13.1/jquery-ui.min.js"></script>

<!-- jQuery UI CSS -->

    <!-- bootstrap include -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>

<!-- font awesome -->
<script src="https://kit.fontawesome.com/86b62f3d3e.js" crossorigin="anonymous"></script>

<!-- Sweet alert -->
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- external js -->
<script src="js/work_entry.js" type="module"></script>
<script src="js/menu.js" type="module"></script>
<!-- <script src="js/get_all_id.js" type="module"></script> -->

</body>
</html>





                  
            
            
            
            
                
            
            